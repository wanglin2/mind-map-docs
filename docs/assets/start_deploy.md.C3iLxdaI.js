import{_ as s,c as a,o as i,a4 as n}from"./chunks/framework.B358x4hV.js";const g=JSON.parse('{"title":"éƒ¨ç½²","description":"","frontmatter":{},"headers":[],"relativePath":"start/deploy.md","filePath":"start/deploy.md"}'),p={name:"start/deploy.md"},e=n(`<h1 id="éƒ¨ç½²" tabindex="-1">éƒ¨ç½² <a class="header-anchor" href="#éƒ¨ç½²" aria-label="Permalink to &quot;éƒ¨ç½²&quot;">â€‹</a></h1><p>æœ¬é¡¹ç›®çš„<code>web</code>ç›®å½•ä¸‹æä¾›äº†ä¸€ä¸ªåŸºäº<code>simple-mind-map</code>åº“ã€<code>Vue2.x</code>ã€<code>ElementUI</code>å¼€å‘çš„å®Œæ•´é¡¹ç›®ï¼Œæ•°æ®é»˜è®¤å­˜å‚¨åœ¨ç”µè„‘æœ¬åœ°ï¼Œæ­¤å¤–å¯ä»¥æ“ä½œç”µè„‘æœ¬åœ°æ–‡ä»¶ï¼ŒåŸæ„æ˜¯ä½œä¸ºä¸€ä¸ªçº¿ä¸Š<code>demo</code>ï¼Œä½†æ˜¯ä¹Ÿå®Œå…¨å¯ä»¥ç›´æ¥æŠŠå®ƒå½“åšä¸€ä¸ªåœ¨çº¿ç‰ˆæ€ç»´å¯¼å›¾åº”ç”¨ä½¿ç”¨ï¼Œåœ¨çº¿åœ°å€ï¼š<a href="https://wanglin2.github.io/mind-map/" target="_blank" rel="noreferrer">https://wanglin2.github.io/mind-map/</a>ã€‚</p><p>å¦‚æœä½ çš„ç½‘ç»œç¯å¢ƒè®¿é—®<code>GitHub</code>æœåŠ¡å¾ˆæ…¢ï¼Œä½ ä¹Ÿå¯ä»¥éƒ¨ç½²åˆ°ä½ çš„æœåŠ¡å™¨ä¸Šã€‚</p><h2 id="éƒ¨ç½²åˆ°é™æ€æ–‡ä»¶æœåŠ¡å™¨" tabindex="-1">éƒ¨ç½²åˆ°é™æ€æ–‡ä»¶æœåŠ¡å™¨ <a class="header-anchor" href="#éƒ¨ç½²åˆ°é™æ€æ–‡ä»¶æœåŠ¡å™¨" aria-label="Permalink to &quot;éƒ¨ç½²åˆ°é™æ€æ–‡ä»¶æœåŠ¡å™¨&quot;">â€‹</a></h2><p>é¡¹ç›®æœ¬èº«ä¸ä¾èµ–åç«¯ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥éƒ¨ç½²åˆ°ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥ä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/wanglin2/mind-map.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mind-map</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simple-mind-map</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ..</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> web</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simple-mind-map</span></span></code></pre></div><p>ç„¶åä½ å¯ä»¥é€‰æ‹©å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serve</span></span></code></pre></div><p>ä¹Ÿå¯ä»¥ç›´æ¥æ‰“åŒ…ç”Ÿæˆæ„å»ºäº§ç‰©ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><p>æ‰“åŒ…å®Œåçš„å…¥å£é¡µé¢<code>index.html</code>å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°ï¼Œå¯¹åº”çš„é™æ€èµ„æºåœ¨æ ¹ç›®å½•ä¸‹çš„<code>dist</code>ç›®å½•ï¼Œ<code>html</code>æ–‡ä»¶ä¸­ä¼šé€šè¿‡ç›¸å¯¹è·¯å¾„è®¿é—®<code>dist</code>ç›®å½•çš„èµ„æºï¼Œæ¯”å¦‚<code>dist/xxx</code>ã€‚ä½ å¯ä»¥ç›´æ¥æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸Šä¼ åˆ°ä½ çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œäº‹å®ä¸Šï¼Œæœ¬é¡¹ç›®å°±æ˜¯è¿™æ ·éƒ¨ç½²åˆ°<code>GitHub Pages</code>ä¸Šçš„ã€‚</p><p>å¦‚æœä½ æ²¡æœ‰ä»£ç ä¿®æ”¹éœ€æ±‚çš„è¯ï¼Œç›´æ¥ä»æœ¬ä»“åº“å¤åˆ¶è¿™äº›æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>å¦‚æœä½ æƒ³æŠŠ<code>index.html</code>ä¹Ÿæ‰“åŒ…è¿›<code>dist</code>ç›®å½•ï¼Œå¯ä»¥ä¿®æ”¹<code>web/package.json</code>æ–‡ä»¶çš„<code>scripts.build</code>å‘½ä»¤ï¼ŒæŠŠ<code>vue-cli-service build &amp;&amp; node ../copy.js</code>ä¸­çš„<code> &amp;&amp; node ../copy.js</code>åˆ é™¤å³å¯ã€‚</p><p>å¦‚æœä½ æƒ³ä¿®æ”¹æ‰“åŒ…è¾“å‡ºçš„ç›®å½•ï¼Œå¯ä»¥ä¿®æ”¹<code>web/vue.config.js</code>æ–‡ä»¶çš„<code>outputDir</code>é…ç½®ï¼Œæ”¹æˆä½ æƒ³è¦è¾“å‡ºçš„è·¯å¾„å³å¯ã€‚</p><p>å¦‚æœä½ æƒ³ä¿®æ”¹<code>index.html</code>æ–‡ä»¶å¼•ç”¨é™æ€èµ„æºçš„è·¯å¾„çš„è¯å¯ä»¥ä¿®æ”¹<code>web/vue.config.js</code>æ–‡ä»¶çš„<code>publicPath</code>é…ç½®ã€‚ä»¥åŠ<code>web/public/index.html</code>æ–‡ä»¶çš„<code>window.externalPublicPath</code>é…ç½®ã€‚</p><p>å¦å¤–é»˜è®¤ä½¿ç”¨çš„æ˜¯<code>hash</code>è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯è·¯å¾„ä¸­ä¼šåœ¨<code>#</code>ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨<code>history</code>è·¯ç”±ï¼Œå¯ä»¥ä¿®æ”¹<code>web/src/router.js</code>æ–‡ä»¶ï¼Œå°†ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>æ”¹æˆï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;history&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>ä¸è¿‡è¿™éœ€è¦åå°æ”¯æŒï¼Œå› ä¸ºæˆ‘ä»¬çš„åº”ç”¨æ˜¯ä¸ªå•é¡µå®¢æˆ·ç«¯åº”ç”¨ï¼Œå¦‚æœåå°æ²¡æœ‰æ­£ç¡®çš„é…ç½®ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ç›´æ¥è®¿é—®å­è·¯ç”±æ—¶ä¼šè¿”å›404ï¼Œæ‰€ä»¥å‘¢ä½ è¦åœ¨æœåŠ¡ç«¯å¢åŠ ä¸€ä¸ªè¦†ç›–æ‰€æœ‰æƒ…å†µçš„å€™é€‰èµ„æºï¼šå¦‚æœ<code>URL</code>åŒ¹é…ä¸åˆ°ä»»ä½•é™æ€èµ„æºï¼Œåˆ™åº”è¯¥è¿”å›åŒä¸€ä¸ª<code>index.html</code>é¡µé¢ã€‚</p><h2 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">â€‹</a></h2><h3 id="é•œåƒ1" tabindex="-1">é•œåƒ1 <a class="header-anchor" href="#é•œåƒ1" aria-label="Permalink to &quot;é•œåƒ1&quot;">â€‹</a></h3><blockquote><p>éå¸¸æ„Ÿè°¢<a href="https://github.com/Hraulein" target="_blank" rel="noreferrer">Hraulein</a>ç»´æŠ¤çš„<code>Docker</code>é•œåƒã€‚</p></blockquote><blockquote><p>æ”¯æŒæ¶æ„: <code>amd64</code> <code>arm64</code> <code>arm/v7</code> <code>arm/v8</code></p></blockquote><h4 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h4><blockquote><p><code>docker cli</code></p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mind-map</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8080:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> always</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GIN_MODE=release</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hraulein/mind-map:latest</span></span></code></pre></div><blockquote><p><code>docker compose</code></p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">services:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mind-map:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    image:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hraulein/mind-map:latest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    container_name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mind-map</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    restart:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> always</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ports:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;8080:8080&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    environment:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GIN_MODE=release</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # debug ä¸ºè°ƒè¯•æ¨¡å¼</span></span></code></pre></div><h4 id="ä½¿ç”¨" tabindex="-1">ä½¿ç”¨ <a class="header-anchor" href="#ä½¿ç”¨" aria-label="Permalink to &quot;ä½¿ç”¨&quot;">â€‹</a></h4><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä»¥ä¸‹åœ°å€å³å¯ä½¿ç”¨ Web ç‰ˆæ€ç»´å¯¼å›¾: <code>http://$IP_ADDRESS:$PORT</code></p><p>å‚æ•°:</p><ul><li><p><code>$IP_ADDRESS</code></p><ul><li>æœ¬æœºè®¿é—®: ä½¿ç”¨ <code>127.0.0.1</code> æˆ– <code>localhost</code></li><li>å±€åŸŸç½‘è®¿é—®: è¾“å…¥éƒ¨ç½²ä¸»æœºçš„å†…ç½‘ IPï¼ˆå¦‚ <code>172.16.19.156</code>ï¼‰</li><li>å…¬ç½‘è®¿é—®ï¼ˆå¦‚æœ‰ï¼‰: è¾“å…¥æœåŠ¡å™¨å…¬ç½‘ IP æˆ–åŸŸå</li></ul></li><li><p><code>$PORT</code></p><ul><li>é»˜è®¤ä½¿ç”¨ <code>8080</code> ç«¯å£ï¼Œè‹¥å¯åŠ¨æ—¶ä¿®æ”¹äº†ç«¯å£æ˜ å°„ï¼ˆå¦‚ <code>-p 8888:8080</code>ï¼‰ï¼Œæ­¤å¤„éœ€å¯¹åº”æ”¹ä¸ºæ˜ å°„çš„ä¸»æœºç«¯å£ï¼ˆå³ <code>8888</code>ï¼‰</li></ul></li></ul><p>ç¤ºä¾‹:</p><blockquote><p>æœ¬æœºè®¿é—®: <code>http://127.0.0.1:8080</code><br> å±€åŸŸç½‘è®¿é—®: <code>http://172.16.19.156:8080</code><br> è‡ªå®šä¹‰ç«¯å£: <code>http://172.16.19.156:8888</code></p></blockquote><h4 id="nginx-åå‘ä»£ç†é…ç½®-å¯é€‰" tabindex="-1">nginx åå‘ä»£ç†é…ç½® (å¯é€‰) <a class="header-anchor" href="#nginx-åå‘ä»£ç†é…ç½®-å¯é€‰" aria-label="Permalink to &quot;nginx åå‘ä»£ç†é…ç½® (å¯é€‰)&quot;">â€‹</a></h4><blockquote><p>éœ€è¦æœ‰åŸŸå/HTTPSè¯ä¹¦</p></blockquote><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># HTTP é‡å®šå‘ HTTPS</span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>    listen 80 default_server;</span></span>
<span class="line"><span>    listen [::]:80 default_server;</span></span>
<span class="line"><span>    return 301 https://$host$request_uri;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>    listen 443 ssl;</span></span>
<span class="line"><span>    listen [::]:443 ssl;</span></span>
<span class="line"><span>    http2 on;    </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>    server_name mind-map.hraulein.localhost;   # &lt;&lt;&lt; æ›¿æ¢ä¸ºä½ çš„åŸŸå</span></span>
<span class="line"><span>    set $IPADDR 172.16.19.156;                 # &lt;&lt;&lt; æ›¿æ¢ä¸ºä½ æœåŠ¡å™¨çš„å†…ç½‘ IP åœ°å€</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ssl_certificate &#39;/etc/nginx/*****/*****/fullchain.cer&#39;;    # &lt;&lt;&lt; æ›¿æ¢ä¸ºå®é™…çš„è¯ä¹¦åœ°å€</span></span>
<span class="line"><span>    ssl_certificate_key &#39;/etc/nginx/*****/*****/*****.key&#39;;    # &lt;&lt;&lt; æ›¿æ¢ä¸ºå®é™…çš„è¯ä¹¦åœ°å€</span></span>
<span class="line"><span>    ssl_trusted_certificate &#39;/etc/nginx/*****/*****/ca.cer&#39;;   # &lt;&lt;&lt; æ›¿æ¢ä¸ºå®é™…çš„è¯ä¹¦åœ°å€</span></span>
<span class="line"><span>    ssl_session_cache shared:SSL:1m;</span></span>
<span class="line"><span>    ssl_session_timeout 10m;</span></span>
<span class="line"><span>    ssl_session_tickets off;</span></span>
<span class="line"><span>    ssl_prefer_server_ciphers on;</span></span>
<span class="line"><span>    ssl_ciphers &#39;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256&#39;;</span></span>
<span class="line"><span>    ssl_protocols TLSv1.2 TLSv1.3;</span></span>
<span class="line"><span>    ssl_stapling on;</span></span>
<span class="line"><span>    ssl_stapling_verify on;</span></span>
<span class="line"><span>    resolver 8.8.8.8 1.1.1.1 valid=300s;</span></span>
<span class="line"><span>    resolver_timeout 5s;</span></span>
<span class="line"><span>    add_header Strict-Transport-Security &quot;max-age=31536000&quot; always;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_pass http://$IPADDR:8080;        # &lt;&lt;&lt; æ›¿æ¢ä¸º mind-map æœåŠ¡å®é™…æ˜ å°„ç«¯å£</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header Upgrade $http_upgrade;</span></span>
<span class="line"><span>        proxy_set_header Connection upgrade;</span></span>
<span class="line"><span>        proxy_set_header Accept-Encoding gzip;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h3 id="é•œåƒ2" tabindex="-1">é•œåƒ2 <a class="header-anchor" href="#é•œåƒ2" aria-label="Permalink to &quot;é•œåƒ2&quot;">â€‹</a></h3><blockquote><p>éå¸¸æ„Ÿè°¢<a href="https://github.com/shuiche-it" target="_blank" rel="noreferrer">æ°´è½¦</a>ç»´æŠ¤çš„<code>Docker</code>é•œåƒã€‚</p></blockquote><p>ç›´æ¥ä» Docker hup ä¸­å®‰è£…ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker run -d -p 8081:8080 shuiche/mind-map:latest</span></span></code></pre></div><p>mind-mapåœ¨å®¹å™¨ä¸­å¯åŠ¨äº†8080ç«¯å£ä½œä¸ºwebæœåŠ¡å…¥å£ï¼Œé€šè¿‡dockerè¿è¡Œå®¹å™¨æ—¶ï¼Œéœ€è¦æŒ‡å®šæœ¬åœ°æ˜ å°„ç«¯å£ï¼Œä¸Šé¢æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æœ¬åœ°çš„8081ç«¯å£æ˜ å°„åˆ°å®¹å™¨ç«¯å£8080ã€‚</p><p>å®‰è£…å®Œæˆåï¼Œé€šè¿‡ <code>docker ps</code> æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€ã€‚</p><p>æµè§ˆå™¨æ‰“å¼€ 127.0.0.1:8081 å³å¯ä½¿ç”¨Web æ€ç»´å¯¼å›¾åŠŸèƒ½ã€‚</p><p><a href="https://laosu.gq/2023/09/02/%E5%BC%BA%E5%A4%A7%E7%9A%84%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%BA%93SimpleMindMap/" target="_blank" rel="noreferrer">åœ¨ç¾¤æ™–ä¸Šä»¥ Docker æ–¹å¼å®‰è£…</a></p><h2 id="ä½¿ç”¨å®å¡”é¢æ¿dockerçš„éƒ¨ç½²è¯´æ˜" tabindex="-1">ä½¿ç”¨å®å¡”é¢æ¿Dockerçš„éƒ¨ç½²è¯´æ˜ <a class="header-anchor" href="#ä½¿ç”¨å®å¡”é¢æ¿dockerçš„éƒ¨ç½²è¯´æ˜" aria-label="Permalink to &quot;ä½¿ç”¨å®å¡”é¢æ¿Dockerçš„éƒ¨ç½²è¯´æ˜&quot;">â€‹</a></h2><blockquote><p>æœ¬å°èŠ‚æ–‡æ¡£ç”±<a href="https://github.com/bestlaw66" target="_blank" rel="noreferrer">bestlaw66</a>ç¼–å†™ã€‚</p></blockquote><h3 id="æ‹¥æœ‰è‡ªå·±çš„å®å¡”" tabindex="-1">æ‹¥æœ‰è‡ªå·±çš„å®å¡” <a class="header-anchor" href="#æ‹¥æœ‰è‡ªå·±çš„å®å¡”" aria-label="Permalink to &quot;æ‹¥æœ‰è‡ªå·±çš„å®å¡”&quot;">â€‹</a></h3><p>å½“ä½ éœ€è¦é€šè¿‡ å®å¡”é¢æ¿ éƒ¨ç½²æœ¬é¡¹ç›®ä¹‹å‰ï¼Œéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå…ˆå®‰è£…å¥½ å®å¡”é¢æ¿å·¥å…·ã€‚ æ¥ä¸‹æ¥çš„ éƒ¨ç½²æµç¨‹ éƒ½å»ºç«‹åœ¨å·²æœ‰å®å¡”é¢æ¿çš„å‰æä¸‹ã€‚å®å¡”å®‰è£…è¯·å‚è€ƒ (<a href="https://www.bt.cn/new/download.html?r=dk_simple" target="_blank" rel="noreferrer">å®å¡”å®˜ç½‘</a>)ã€‚</p><blockquote><p>æ³¨æ„ï¼šæœ¬é¡¹ç›®éœ€è¦å®å¡”é¢æ¿ç‰ˆæœ¬ 9.2.0 åŠä»¥ä¸Š</p></blockquote><h3 id="ä¸€é”®å®‰è£…" tabindex="-1">ä¸€é”®å®‰è£… <a class="header-anchor" href="#ä¸€é”®å®‰è£…" aria-label="Permalink to &quot;ä¸€é”®å®‰è£…&quot;">â€‹</a></h3><p><img src="https://github.com/user-attachments/assets/34994767-4662-46f4-bde7-3bb421165765" alt="install1"></p><ol><li><p>åœ¨ å®å¡”é¢æ¿ -&gt; Docker -&gt; åº”ç”¨å•†åº— é¡µé¢ï¼Œæœç´¢ Simple æ‰¾åˆ°æœ¬é¡¹ç›®çš„dockeråº”ç”¨ï¼›</p></li><li><p>ç‚¹å‡» å®‰è£… å¼€å§‹éƒ¨ç½²æœ¬é¡¹ç›®ï¼›</p></li></ol><p><img src="https://github.com/user-attachments/assets/5b6e1863-1dac-40ae-9395-3ea25abe2b8d" alt="install2"></p><ol><li><p>åœ¨é¡¹ç›®é…ç½®é¡µï¼Œæ ¹æ®è¦æ±‚å¼€å§‹é…ç½®ç¯å¢ƒå˜é‡ï¼›</p></li><li><p>å¦‚å‹¾é€‰ å…è®¸å¤–éƒ¨è®¿é—® é…ç½®ï¼Œè¯·æ³¨æ„ä¸ºé…ç½®çš„ webç«¯å£ å¼€æ”¾å®‰å…¨ç»„ç«¯å£è®¿é—®æƒé™ï¼›</p></li><li><p>ç‚¹å‡» ç¡®è®¤ å¼€å§‹è‡ªåŠ¨éƒ¨ç½²ï¼›</p></li></ol><h3 id="å¦‚ä½•è®¿é—®" tabindex="-1">å¦‚ä½•è®¿é—® <a class="header-anchor" href="#å¦‚ä½•è®¿é—®" aria-label="Permalink to &quot;å¦‚ä½•è®¿é—®&quot;">â€‹</a></h3><p>é€šè¿‡æ ¹æ® æœåŠ¡å™¨IPåœ°å€ å’Œé…ç½®çš„ webç«¯å£ <a href="http://$" target="_blank" rel="noreferrer">http://$</a>(host)ğŸ˜’(port)ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ Simple mind mapã€‚</p><p><img src="https://github.com/user-attachments/assets/451872fe-4a51-4712-ba82-efa98b0bd6ad" alt="install3"></p><h2 id="å¯¹æ¥è‡ªå·±çš„å­˜å‚¨æœåŠ¡" tabindex="-1">å¯¹æ¥è‡ªå·±çš„å­˜å‚¨æœåŠ¡ <a class="header-anchor" href="#å¯¹æ¥è‡ªå·±çš„å­˜å‚¨æœåŠ¡" aria-label="Permalink to &quot;å¯¹æ¥è‡ªå·±çš„å­˜å‚¨æœåŠ¡&quot;">â€‹</a></h2><p>åº”ç”¨æ•°æ®é»˜è®¤å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œæµè§ˆå™¨æœ¬åœ°å­˜å‚¨å®¹é‡æ˜¯æ¯”è¾ƒå°çš„ï¼Œæ‰€ä»¥å½“åœ¨æ€ç»´å¯¼å›¾ä¸­æ’å…¥æ›´å¤šå›¾ç‰‡åå¾ˆå®¹æ˜“è§¦å‘é™åˆ¶ï¼Œæ‰€ä»¥æ›´å¥½çš„é€‰æ‹©æ˜¯å¯¹æ¥ä½ è‡ªå·±çš„å­˜å‚¨æœåŠ¡ï¼Œè¿™é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><h3 id="ç¬¬ä¸€ç§" tabindex="-1">ç¬¬ä¸€ç§ <a class="header-anchor" href="#ç¬¬ä¸€ç§" aria-label="Permalink to &quot;ç¬¬ä¸€ç§&quot;">â€‹</a></h3><p>ç›´æ¥cloneæœ¬ä»“åº“ä»£ç ï¼Œç„¶åä¿®æ”¹<code>web/src/api/index.js</code>å†…çš„ç›¸å…³æ–¹æ³•å³å¯å®ç°ä»ä½ çš„æ•°æ®åº“é‡Œè·å–æ•°æ®ï¼Œä»¥åŠå­˜å‚¨åˆ°ä½ çš„æ•°æ®ä¸­ã€‚</p><h3 id="ç¬¬äºŒç§" tabindex="-1">ç¬¬äºŒç§ <a class="header-anchor" href="#ç¬¬äºŒç§" aria-label="Permalink to &quot;ç¬¬äºŒç§&quot;">â€‹</a></h3><p>å¾ˆå¤šæ—¶å€™ï¼Œä½ å¯èƒ½æƒ³å§‹ç»ˆä½¿ç”¨æœ¬ä»“åº“çš„æœ€æ–°ä»£ç ï¼Œé‚£ä¹ˆç¬¬ä¸€ç§æ–¹å¼å°±ä¸å¤ªæ–¹ä¾¿ï¼Œå› ä¸ºä½ è¦æ‰‹åŠ¨å»åˆå¹¶ä»£ç ï¼Œæ‰€ä»¥æä¾›äº†ç¬¬äºŒç§æ–¹å¼ã€‚</p><p>å…·ä½“æ“ä½œæ­¥éª¤ï¼š</p><p>1.å¤åˆ¶webåº”ç”¨æ‰“åŒ…åçš„èµ„æº</p><p>åŒ…æ‹¬ï¼š<code>dist</code>ç›®å½•å’Œ<code>index.html</code>æ–‡ä»¶ã€‚</p><p>2.ä¿®æ”¹å¤åˆ¶åçš„<code>index.html</code>æ–‡ä»¶</p><p>é¦–å…ˆåœ¨<code>head</code>æ ‡ç­¾é‡Œæ’å…¥å¦‚ä¸‹ä»£ç ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  window.takeOverApp = true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>è¿™è¡Œä»£ç ä¼šæç¤ºåº”ç”¨ä¸è¦åˆå§‹åŒ–åº”ç”¨<code>å³ï¼šnew Vue()</code>ï¼Œè€Œæ˜¯æŠŠæ§åˆ¶æƒäº¤ç»™ä½ ï¼Œæ¥ä¸‹æ¥å†åœ¨<code>body</code>çš„æœ€åæ’å…¥ä½ è‡ªå·±çš„<code>js</code>ä»£ç ï¼Œå†…è”æˆ–åˆ™å¤–é“¾éƒ½å¯ä»¥ï¼Œå†…è”ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  // ä½ è‡ªå·±çš„è¯·æ±‚æ•°æ®çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  const getDataFromBackend = () =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // æ€ç»´å¯¼å›¾æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          mindMapData: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            root: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ ¹èŠ‚ç‚¹&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              &quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            theme: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;template&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;avocado&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{} },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            layout: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;logicalStructure&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            config: {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            view: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // é¡µé¢è¯­è¨€ï¼Œæ”¯æŒä¸­æ–‡ï¼ˆzhï¼‰ã€è‹±æ–‡ï¼ˆenï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          lang: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // é¡µé¢éƒ¨åˆ†é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          localConfig: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  // æ³¨å†Œå…¨å±€æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  const setTakeOverAppMethods = (data) =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–æ€ç»´å¯¼å›¾æ•°æ®çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMindMapData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.mindMapData</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¿å­˜æ€ç»´å¯¼å›¾æ•°æ®çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveMindMapData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // è¯¥å‡½æ•°è§¦å‘é¢‘ç‡å¯èƒ½ä¼šå¾ˆé«˜ï¼Œæ‰€ä»¥ä½ åº”è¯¥åšä¸€ä¸‹èŠ‚æµæˆ–é˜²æŠ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–è¯­è¨€çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLanguage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.lang</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¿å­˜è¯­è¨€çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveLanguage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lang)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è·å–æœ¬åœ°é…ç½®çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLocalConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.localConfig</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¿å­˜æœ¬åœ°é…ç½®çš„å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.takeOverAppMethods.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveLocalConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  window.onload = async () =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.takeOverApp) return</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¯·æ±‚æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    const data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getDataFromBackend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è®¾ç½®å…¨å±€çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTakeOverAppMethods</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ€ç»´å¯¼å›¾å®ä¾‹åˆ›å»ºå®Œæˆäº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.$bus.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;app_inited&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">mindMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mindMap)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¯ä»¥é€šè¿‡window.$bus.$on()æ¥ç›‘å¬åº”ç”¨çš„ä¸€äº›äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å®ä¾‹åŒ–é¡µé¢</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">initApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œå½“ä½ è®¾ç½®äº†<code>window.takeOverApp = true</code>æ ‡å¿—ï¼Œåº”ç”¨ä¸å†ä¸»åŠ¨è¿›è¡Œå®ä¾‹åŒ–ï¼Œè€Œæ˜¯ä¼šå°†å®ä¾‹åŒ–çš„æ–¹æ³•æš´éœ²å‡ºæ¥ç”±ä½ è°ƒç”¨ï¼Œé‚£ä¹ˆä½ å¯ä»¥å…ˆä»åç«¯è¯·æ±‚æ€ç»´å¯¼å›¾çš„æ•°æ®ï¼Œç„¶åå†æ³¨å†Œç›¸å…³çš„æ–¹æ³•ï¼Œåº”ç”¨å†…éƒ¨ä¼šåœ¨åˆé€‚çš„æ—¶æœºè¿›è¡Œè°ƒç”¨ï¼Œä»è€Œè¾¾åˆ°å›æ˜¾å’Œä¿å­˜çš„ç›®çš„ã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œæ¯å½“æœ¬ä»“åº“ä»£ç æ›´æ–°äº†ï¼Œä½ å¯ä»¥ç®€å•çš„å¤åˆ¶æ‰“åŒ…åçš„æ–‡ä»¶åˆ°ä½ è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåªè¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹<code>index.html</code>é¡µé¢å³å¯è¾¾åˆ°åŒæ­¥æ›´æ–°ä¸”ä½¿ç”¨è‡ªå·±çš„å­˜å‚¨æœåŠ¡çš„ç›®çš„ã€‚</p><h2 id="ä¿®æ”¹é™æ€èµ„æºè·¯å¾„" tabindex="-1">ä¿®æ”¹é™æ€èµ„æºè·¯å¾„ <a class="header-anchor" href="#ä¿®æ”¹é™æ€èµ„æºè·¯å¾„" aria-label="Permalink to &quot;ä¿®æ”¹é™æ€èµ„æºè·¯å¾„&quot;">â€‹</a></h2><p>å¦‚æœä½ æƒ³å’Œä¸Šä¸€èŠ‚ä¸€æ ·ä¿æŒå’Œæœ¬ä»“åº“ä»£ç çš„åŒæ­¥æ›´æ–°ï¼Œä½†æ˜¯åˆæƒ³ä¿®æ”¹é™æ€èµ„æºçš„å­˜æ”¾ä½ç½®ï¼Œæ¯”å¦‚é»˜è®¤çš„å±‚çº§å…³ç³»ä¸ºï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>-dist</span></span>
<span class="line"><span>--css</span></span>
<span class="line"><span>--fonts</span></span>
<span class="line"><span>--img</span></span>
<span class="line"><span>--js</span></span>
<span class="line"><span>-logo.ico</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-index.html</span></span></code></pre></div><p>è€Œä½ æƒ³è°ƒæ•´æˆè¿™æ ·ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>-assets</span></span>
<span class="line"><span>--dist</span></span>
<span class="line"><span>---css</span></span>
<span class="line"><span>---fonts</span></span>
<span class="line"><span>---img</span></span>
<span class="line"><span>---js</span></span>
<span class="line"><span>-logo.ico</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-index.html</span></span></code></pre></div><p>é‚£ä¹ˆä½ å¯ä»¥å°†<code>index.html</code>ä¸­çš„<code>window.externalPublicPath</code>é…ç½®ç”±é»˜è®¤çš„<code>./dist/</code>ä¿®æ”¹ä¸ºï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.externalPublicPath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./assets/dist/&#39;</span></span></code></pre></div><p>åŒæ—¶<code>index.html</code>ä¸­å†…è”çš„<code>.ico</code>ã€<code>.js</code>ã€<code>.css</code>èµ„æºçš„è·¯å¾„éœ€è¦ä½ æ‰‹åŠ¨ä¿®æ”¹ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>dist</code>ç›®å½•å†…çš„ç›®å½•å±‚çº§å…³ç³»æœ€å¥½ä¸è¦è°ƒæ•´ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ã€‚</p><p>å¦‚æœä½ æƒ³æ›¿æ¢å…¶ä¸­çš„ä¸€äº›é™æ€èµ„æºï¼Œæ¯”å¦‚ä½ æƒ³å°†ä¸»é¢˜å›¾ç‰‡å’Œç»“æ„çš„å›¾ç‰‡æ›¿æ¢æˆä½ è‡ªå·±è®¾è®¡çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥åŒåè¦†ç›–ã€‚</p>`,85),l=[e];function t(h,k,d,r,c,o){return i(),a("div",null,l)}const y=s(p,[["render",t]]);export{g as __pageData,y as default};
