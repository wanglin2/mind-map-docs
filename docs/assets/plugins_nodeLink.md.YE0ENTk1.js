import{_ as s,a as i}from"./chunks/wechat.BdsPlIbf.js";import{_ as a,c as t,o as n,a4 as e}from"./chunks/framework.B358x4hV.js";const y=JSON.parse('{"title":"NodeLink 收费插件","description":"","frontmatter":{},"headers":[],"relativePath":"plugins/nodeLink.md","filePath":"plugins/nodeLink.md"}'),d={name:"plugins/nodeLink.md"},p=e('<h1 id="nodelink-收费插件" tabindex="-1">NodeLink 收费插件 <a class="header-anchor" href="#nodelink-收费插件" aria-label="Permalink to &quot;NodeLink 收费插件&quot;">​</a></h1><blockquote><p>适配v0.14.0及以上版本的simple-mind-map。</p></blockquote><p>NodeLink插件用于提供节点链接的功能。可以把<code>b</code>节点链接到<code>a</code>节点上，添加成功后<code>a</code>节点上会显示一个链接图标，点击该图标可以跳转到并激活<code>b</code>节点。</p><h2 id="收费" tabindex="-1">收费 <a class="header-anchor" href="#收费" aria-label="Permalink to &quot;收费&quot;">​</a></h2><blockquote><p>暂不支持购买单个插件，只能打包购买所有收费插件。</p></blockquote><p>价格：￥999，包含所有收费插件。</p><p>扫码转账备注：插件购买。以及你的邮箱地址（如果达到文字上限，那么你可以分两次付款），然后会将插件文件发送到你的邮箱。购买请在充分的使用和考虑后进行，如果你对前端开发不太熟悉，不知道如何使用插件，那么请谨慎考虑购买，没有特殊原因不会退费。如果你发现了 bug，或者有需求，可以提交相关的 issue。</p><p style="display:flex;align-items:flex-end;"><img src="'+s+'" style="width:300px;"><img src="'+i+`" style="width:300px;"></p><h2 id="注册" tabindex="-1">注册 <a class="header-anchor" href="#注册" aria-label="Permalink to &quot;注册&quot;">​</a></h2><p>1.引用打包后的文件：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MindMap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;simple-mind-map&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NodeLink </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;nodeLink.cjs.min.js&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 或 import NodeLink from &#39;nodeLink.esm.min.js&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MindMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(NodeLink, opt)</span></span></code></pre></div><p>2.引用未打包的源码</p><p>可以先进入到插件目录执行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span></span></code></pre></div><p>然后进入到你的项目根目录执行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simple-mind-map-plugin-node-link</span></span></code></pre></div><p>然后就可以直接导入进行使用：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MindMap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;simple-mind-map&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NodeLink </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;simple-mind-map-plugin-node-link&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MindMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(NodeLink, opt)</span></span></code></pre></div><p>注册完且实例化<code>MindMap</code>后可通过<code>mindMap.nodeLink</code>获取到该实例。</p><p>注册插件时支持传入一些配置项<code>opt</code>：</p><table tabindex="0"><thead><tr><th>字段名称</th><th>类型</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>width</td><td>Number</td><td>20</td><td>图标的大小</td></tr><tr><td>height</td><td>Number</td><td>20</td><td>图标的大小</td></tr><tr><td>icon</td><td>String</td><td></td><td>图标，svg字符串，不指定会使用默认的图标，需要注意去除svg字符串中的fill属性，否则颜色可能不生效</td></tr><tr><td>colorIsFollowNode</td><td>Boolean</td><td>true</td><td>图标颜色是否跟随节点文本的颜色</td></tr><tr><td>color</td><td>String</td><td>#3f9cfc</td><td>如果colorIsFollowNode设置为false时会使用该颜色</td></tr><tr><td>handleIconClick</td><td>Function</td><td></td><td>自定义链接图标的点击事件，默认会定位到及激活链接节点</td></tr></tbody></table><h2 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h2><p>注册了本插件后会在思维导图实例上新增<code>SET_NODE_LINK</code>命令，给节点设置链接使用该命令：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mindMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SET_NODE_LINK&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, appointNodes, uid, isAddReturn)</span></span></code></pre></div><p>该命令可以传递三个参数：</p><ul><li><p><code>appointNodes</code>：给指定的节点实例设置链接数据，可以传单个节点实例，也可以传递一个节点实例数组，如果传空数组，则会给当前激活的节点添加；</p></li><li><p><code>uid</code>：String，要链接到的节点的<code>uid</code>；</p></li><li><p><code>isAddReturn</code>：Boolean，可选，是否给被链接节点添加反向链接，默认为<code>false</code>。如果<code>appointNodes</code>传递了多个节点实例，那么反向链接会指向第一个；</p></li></ul><p>示例：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 给当前画布激活的节点添加链接，链接到uid为\`xxxx\`的节点上</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mindMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SET_NODE_LINK&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;xxxx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 删除链接</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mindMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SET_NODE_LINK&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>添加链接后数据会以<code>nodeLink</code>为名称保存到节点的<code>data</code>数据中。</p><h2 id="事件" tabindex="-1">事件 <a class="header-anchor" href="#事件" aria-label="Permalink to &quot;事件&quot;">​</a></h2><h3 id="node-link-not-find" tabindex="-1">node_link_not_find <a class="header-anchor" href="#node-link-not-find" aria-label="Permalink to &quot;node_link_not_find&quot;">​</a></h3><p>当给节点链接到另一个节点后，如果被链接节点删除了，点击链接图标时无法知道节点时会触发该事件。你可以监听该事件来提醒用户是否删除该链接。</p>`,32),l=[p];function h(o,k,r,c,g,E){return n(),t("div",null,l)}const b=a(d,[["render",h]]);export{y as __pageData,b as default};
